<!DOCTYPE html>
<head>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script>
    /*function addJoke(){
        $.get("https://official-joke-api.appspot.com/random_joke", function(data){
        $('#joke').text( JSON.stringify(data.setup) + ":" + JSON.stringify(data.punchline) + "<br>");
        console.log(data)
        });
    }
    function PointCheck(){
        $.get("https://8wq7kom4q2.execute-api.ap-northeast-1.amazonaws.com/v2", {id:1}, function(data){
        $('#point_check').text( JSON.stringify(data.NameLast) + JSON.stringify(data.NameFirst) + ":" + JSON.stringify(data.Point) + "ポイント<br>");
        console.log(data)
        });
    }*/
    function PointCheck(id){
        $.ajax({
            type: 'GET',
            timeout: 10000,
            url: "https://8wq7kom4q2.execute-api.ap-northeast-1.amazonaws.com/v2",
            headers: {
                "accept": "application/json"
            },
            data: { id : id },
            dataType: 'json',
            cache: false,
        }).done(function(e){
            console.log(e);
            $('#point_check').text(e.Point)
        }).fail(function(e){
            $('#point_check').text("failed")
        // 失敗時
        }).always(function(e){
        });
    }
    function PointAdd(id,val){
        $.ajax({
            type: 'PUT',
            timeout: 10000,
            url: "https://8wq7kom4q2.execute-api.ap-northeast-1.amazonaws.com/v2",
            headers: {
                "accept": "application/json"
            },
            data: { id : id, val : val },
            dataType: 'json',
            cache: false,
        }).done(function(e){
            console.log(e);
            $('#point_add').text(val+"ポイント追加されました")
        }).fail(function(e){
            $('#point_add').text("failed")
        // 失敗時
        }).always(function(e){
        });
    }
</script>
</head>

<body>
    <button onClick="PointCheck(1)">ポイントを確認</button>
    <div id="point_check"></div>
    <button onClick="PointAdd(1,10)">ポイントを増加</button>
    <div id="point_add"></div>
</body>



</html>
